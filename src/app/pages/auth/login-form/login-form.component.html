<!-- Header con logo -->
<!-- Header con logo -->
<div class="login-header">
  <div class="brand-logo-small">
    <i class="fas fa-cube" style="color: var(--primary); font-size: 2rem;"></i>
  </div>
</div>

<h1 class="login-title">Inicio de sesión</h1>

<!-- Mensaje de Error -->
<div class="error-message" id="errorMessage" [style.display]="showErrorMessage ? 'block' : 'none'">
  <i class="fas fa-exclamation-triangle"></i>
  <span id="errorText">{{ errorMessage }}</span>
</div>

<!-- Formulario de Login -->
<form class="login-form auth-form" id="loginForm" [formGroup]="loginForm" (ngSubmit)="onSubmit()">
  <div class="form-group">
    <!-- Username using shared input component (match create-user layout) -->
    <app-input
  id="username"
    name="username"
  label="Correo electrónico"
    placeholder="usuario@empresa.com"
  formControlName="username"
  rightIcon="user"
    [disabled]="isLoading"
  type="email"
    [required]="true"
    autocomplete="username"
    (input)="onInputChange()"
    [errorMessage]="getFieldError('username')"
    [state]="isFieldInvalid('username') ? 'error' : undefined">
    <svg slot="right-icon" width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
      <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
    </svg>
    </app-input>
  </div>

  <div class="form-group">
    <!-- Password using shared input component (match create-user layout) -->
    <app-input
  id="password"
    name="password"
  label="Contraseña"
    placeholder="••••••••"
  formControlName="password"
  rightIcon="password"
    [disabled]="isLoading"
    [type]="showPassword ? 'text' : 'password'"
    [required]="true"
    [minLength]="6"
    [showPasswordToggle]="true"
    autocomplete="current-password"
    (input)="onInputChange()"
    [errorMessage]="getFieldError('password')"
    [state]="isFieldInvalid('password') ? 'error' : undefined">
    <svg slot="right-icon" width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
      <path d="M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"/>
    </svg>
    </app-input>
  </div>

  <div class="form-actions">
    <!-- Submit button using shared button component -->
    <app-button
      type="submit"
      [loading]="isLoading"
      [fullWidth]="true"
      variant="primary"
      size="lg"
      [disabled]="isLoading"
      [showIconWhenLoading]="true">
      <span class="app-button__icon-html"><i class="fas fa-sign-in-alt"></i></span>
      <span>&nbsp;{{ isLoading ? 'Cargando...' : 'Iniciar sesión' }}</span>
    </app-button>
  </div>
</form>

<!-- Enlaces de acción -->
<div class="action-links">
  <div class="forgot-password">
    <a href="javascript:void(0)" (click)="onForgotPassword()">¿Olvidaste tu contraseña?</a>
  </div>

  <div class="divider">
    <span>o</span>
  </div>

  <div class="create-account">
    <a href="javascript:void(0)" (click)="onCreateAccount()" id="createAccountLink">¿No tienes cuenta? Crear una nueva</a>
  </div>
</div>

<!-- Términos y condiciones -->
<div class="terms">
  Al ingresar a MocaBits, estás aceptando nuestros
  <a href="#" target="_blank">Términos y condiciones</a>.
</div>