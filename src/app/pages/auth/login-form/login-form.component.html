<!-- Header con logo -->
<div class="login-header">
  <div class="brand-logo-small">
    <i class="fas fa-cube" style="color: var(--primary); font-size: 2rem;"></i>
  </div>
</div>

<h1 class="login-title">Inicio de sesión</h1>

<!-- Mensaje de Error -->
<div class="error-message" id="errorMessage" [style.display]="showErrorMessage ? 'block' : 'none'">
  <i class="fas fa-exclamation-triangle"></i>
  <span id="errorText">{{ errorMessage }}</span>
</div>

<!-- Formulario de Login -->
<form class="login-form" id="loginForm" [formGroup]="loginForm" (ngSubmit)="onSubmit()">
  <div class="form-group">
    <label for="username" class="form-label required">Usuario o correo electrónico</label>
    <div class="input-wrapper">
      <i class="fas fa-user input-icon"></i>
      <input
        type="text"
        id="username"
        name="username"
        formControlName="username"
        class="form-input with-icon"
        placeholder=""
        autocomplete="username"
        (input)="onInputChange()"
      />
    </div>
  </div>

  <div class="form-group">
    <label for="password" class="form-label required">Contraseña</label>
    <div class="password-wrapper">
      <i class="fas fa-lock input-icon"></i>
      <input
        [type]="showPassword ? 'text' : 'password'"
        id="password"
        name="password"
        formControlName="password"
        class="form-input with-icon"
        placeholder=""
        autocomplete="current-password"
        (input)="onInputChange()"
      />
      <i
        class="fas password-toggle"
        [class.fa-eye]="!showPassword"
        [class.fa-eye-slash]="showPassword"
        (click)="togglePassword()"
      ></i>
    </div>
  </div>

  <button type="submit" class="btn-login" id="loginBtn" [disabled]="isLoading">
    <span class="loading-spinner" id="loadingSpinner" [style.display]="isLoading ? 'inline-block' : 'none'"></span>
    <i class="fas" id="loginIcon" [class.fa-sign-in-alt]="!isLoading" [class.fa-check]="isLoading"></i>
    <span id="loginBtnText">{{ isLoading ? 'Iniciando sesión...' : 'Iniciar sesión' }}</span>
  </button>
</form>

<!-- Enlaces de acción -->
<div class="action-links">
  <div class="forgot-password">
    <a href="javascript:void(0)" (click)="onForgotPassword()">¿Olvidaste tu contraseña?</a>
  </div>

  <div class="divider">
    <span>o</span>
  </div>

  <div class="create-account">
    <a href="javascript:void(0)" (click)="onCreateAccount()" id="createAccountLink">¿No tienes cuenta? Crear una nueva</a>
  </div>
</div>

<!-- Términos y condiciones -->
<div class="terms">
  Al ingresar a MocaBits, estás aceptando nuestros
  <a href="#" target="_blank">Términos y condiciones</a>.
</div>