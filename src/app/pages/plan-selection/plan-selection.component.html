<div class="plan-selection-container">
  <!-- Header Section -->
  <div class="header-section">
    <div class="header-content">
      <div class="brand-logo">
        <svg width="50" height="50" viewBox="0 0 100 100" fill="none">
          <rect width="100" height="100" rx="20" fill="url(#brandGradient)"/>
          <path d="M30 35h40v30H30z" fill="white" opacity="0.9"/>
          <path d="M35 45h30v2H35zm0 6h25v2H35zm0 6h20v2H35z" fill="url(#textGradient)"/>
          <defs>
            <linearGradient id="brandGradient" x1="0%" y1="0%" x2="100%" y2="100%">
              <stop offset="0%" style="stop-color:#667eea"/>
              <stop offset="50%" style="stop-color:#764ba2"/>
              <stop offset="100%" style="stop-color:#f093fb"/>
            </linearGradient>
            <linearGradient id="textGradient" x1="0%" y1="0%" x2="100%" y2="0%">
              <stop offset="0%" style="stop-color:#667eea"/>
              <stop offset="100%" style="stop-color:#764ba2"/>
            </linearGradient>
          </defs>
        </svg>
      </div>
      <h1 class="main-title">Selecciona tu Plan</h1>
      <p class="main-subtitle">Elige el plan que mejor se adapte a las necesidades de tu negocio</p>
    </div>
  </div>

  <!-- Plans Grid -->
  <div class="plans-container">
    <div class="plans-grid">
      <div 
        *ngFor="let plan of plans" 
        class="plan-card"
        [class.selected]="selectedPlan === plan.id"
        [class.popular]="plan.popular"
        (click)="selectPlan(plan.id)">
        
        <!-- Popular Badge -->
        <div *ngIf="plan.popular" class="popular-badge">
          <span>Más Popular</span>
        </div>

        <!-- Plan Header -->
        <div class="plan-header">
          <h3 class="plan-name">{{ plan.name }}</h3>
          <div class="plan-price">
            <span class="price-label">{{ plan.priceLabel }}</span>
            <span *ngIf="plan.price > 0" class="price-period">por año</span>
          </div>
          <p class="plan-invoices">{{ plan.invoicesLabel }}</p>
        </div>

        <!-- Plan Features -->
        <div class="plan-features">
          <ul>
            <li *ngFor="let feature of plan.features">
              <svg class="check-icon" width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
                <path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/>
              </svg>
              {{ feature }}
            </li>
          </ul>
        </div>

        <!-- Selection Indicator -->
        <div class="selection-indicator" [style.background]="plan.gradient">
          <svg *ngIf="selectedPlan === plan.id" class="check-selected" width="20" height="20" viewBox="0 0 24 24" fill="white">
            <path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/>
          </svg>
        </div>
      </div>
    </div>
  </div>

  <!-- Action Buttons -->
  <div class="actions-section">
    <div class="actions-container">
      <button 
        class="skip-button"
        (click)="onSkip()"
        [disabled]="isLoading">
        Continuar con plan gratuito
      </button>
      
      <button 
        class="continue-button"
        [disabled]="!selectedPlan || isLoading"
        (click)="onContinue()">
        <span *ngIf="!isLoading">Continuar con {{ selectedPlanName }}</span>
        <div *ngIf="isLoading" class="button-spinner"></div>
      </button>
    </div>
  </div>

  <!-- Background Elements -->
  <div class="bg-elements">
    <div class="floating-element floating-1"></div>
    <div class="floating-element floating-2"></div>
    <div class="floating-element floating-3"></div>
    <div class="floating-element floating-4"></div>
  </div>
</div>
