<div class="create-client-card">
  <div class="header-content">
    <div class="header-left">
      <div class="intro-icon"><i class="fas fa-user-plus"></i></div>
      <div class="header-text">
        <h2>{{ pageTitle }}</h2>
        <p class="muted">Rellena los datos básicos del cliente. Solo los campos obligatorios se validan en esta maqueta.</p>
      </div>
    </div>

    <div class="header-actions">
      <a class="btn-secondary" [routerLink]="['/dashboard','clients']" title="Volver a la lista de clientes">
        <span class="app-button__icon-html"><i class="fas fa-arrow-left"></i></span>
        Volver a la lista
      </a>
    </div>
  </div>

  <div class="card-body">
    <form [formGroup]="clientForm" (ngSubmit)="onSubmit()" class="client-form">
      <div class="form-row">
        <div class="form-group full-width">
          <app-input formControlName="name" label="Nombre Cliente" placeholder="Nombre completo" rightIcon="true">
            <i slot="right-icon" class="fas fa-user"></i>
          </app-input>
          <div class="help" *ngIf="clientForm.get('name')?.touched && clientForm.get('name')?.invalid">Nombre requerido</div>
        </div>
      </div>

      <div class="form-row">
        <div class="form-group">
          <app-select formControlName="idType" [options]="idTypeOptions" label="Tipo ID" placeholder="Seleccione tipo" [attr.title]="isEdit ? 'Tipo de identificación no editable' : null" rightIcon="true">
            <i slot="right-icon" class="fas fa-id-card"></i>
          </app-select>
        </div>

        <div class="form-group">
          <app-input formControlName="identification" label="Identificación" placeholder="Número de identificación" rightIcon="true" [attr.title]="isEdit ? 'Identificación no editable' : null">
            <i slot="right-icon" class="fas fa-hashtag"></i>
          </app-input>
          <div class="help" *ngIf="clientForm.get('identification')?.touched && clientForm.get('identification')?.invalid">
            <span *ngIf="clientForm.get('identification')?.errors?.['required']">Identificación requerida</span>
            <span *ngIf="clientForm.get('identification')?.errors?.['identificationExists']">La identificación ya está registrada</span>
          </div>
        </div>
      </div>

      <div class="form-row">
        <div class="form-group">
          <app-input formControlName="email" label="Correo" placeholder="correo@cliente.com" type="email" rightIcon="true">
            <i slot="right-icon" class="fas fa-envelope"></i>
          </app-input>
        </div>

        <div class="form-group">
          <app-input formControlName="phone" label="Teléfono" placeholder="(555) 555-555" type="tel" rightIcon="true">
            <i slot="right-icon" class="fas fa-phone"></i>
          </app-input>
        </div>
      </div>

      <div class="form-row">
        <div class="form-group">
          <app-select formControlName="status" [options]="statusOptions" label="Estado" placeholder="Seleccione estado" rightIcon="true">
            <i slot="right-icon" class="fas fa-flag"></i>
          </app-select>
        </div>
      </div>

      <div class="form-actions">
        <app-button variant="ghost" type="button" (click)="clientForm.reset()">
          Cancelar
        </app-button>

        <app-button variant="secondary" type="reset">
          <span class="app-button__icon-html"><i class="fas fa-broom"></i></span>
          Limpiar
        </app-button>

        <app-button variant="primary" type="submit" [loading]="isSaving" iconPosition="left">
          <span class="app-button__icon-html"><i class="fas fa-save"></i></span>
          {{ isSaving ? (isEdit ? 'Actualizando...' : 'Guardando...') : (isEdit ? 'Actualizar' : 'Guardar') }}
        </app-button>
      </div>
    </form>
  </div>
</div>